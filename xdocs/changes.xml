<document>
  <properties>
    <title>Core changes</title>
    <author email="tryggvi@idega.com">Tryggvi Larusson</author>
  </properties>
  <body>
  		<release version="3.1.83" date="2008-03-10">
      		<action dev="gimmi" type="update">
				fixed scrolltable to propertly set the width in the lower table
      		</action>
    	</release>
  		<release version="3.1.82" date="2008-02-22">
      		<action dev="alexis" type="update">
      			Added static DWR_ENGINE_SCRIPT constant to CoreConstants
      		</action>
    	</release>
  		<release version="3.1.81" date="2008-02-19">
      		<action dev="alexis" type="update">
      			Changed the way the session polling property is fetched in Page
      		</action>
    	</release>
  		<release version="3.1.80" date="2008-02-15">
      		<action dev="alexis" type="update">
      			Added session polling logic to both site pages and workspace pages
      		</action>
    	</release>
  		<release version="3.1.78" date="2008-01-26">
      		<action dev="valdas" type="update">
      			New methods to get all user's groups (UserBusiness)
      		</action>
    	</release>
  		<release version="3.1.77" date="2008-01-16">
      		<action dev="civilis" type="update">
      			Changes to Wizard 
      		</action>
    	</release>
  		<release version="3.1.76" date="2008-01-07">
      		<action dev="civilis" type="update">
      			UIDateInput showDay property added 
      		</action>
    	</release>
  		<release version="3.1.75" date="2008-01-03">
      		<action dev="civilis" type="update">
      			(Wizard) checking if no errors occurred in invoke application phase 
      		</action>
    	</release>
  		<release version="3.1.74" date="2008-01-03">
      		<action dev="civilis" type="update">
      			base-project DefaultFacesMessages*.properties resource added and couple of localized messages added 
      		</action>
    	</release>
  		<release version="3.1.73" date="2008-01-03">
      		<action dev="laddi" type="update">
      			Fixed NoSuchMethodError in DateInput.
      		</action>
    	</release>
  		<release version="3.1.72" date="2007-12-31">
      		<action dev="civilis" type="update">
      			Wizard, IWBaseInputComponent components added 
      		</action>
    	</release>
    	<release version="3.1.71" date="2007-12-04">
      		<action dev="gimmi" type="update">
      			SendMail now accepts ; delimiter between the email addresses
      		</action>
    	</release>
    	<release version="3.1.70" date="2007-11-30">
      		<action dev="thomas" type="update">
      			Added new column real_estate_unit to RealEstate.
				Changed and added find methods accordingly.
      		</action>
    	</release>
  		<release version="3.1.69" date="2007-11-13">
      		<action dev="valdas" type="update">
				Changed methods in UserBusiness and GroupBusiness beans to get info about users and groups - now these methods need only unique ids
      		</action>
    	</release>
  
  		<release version="3.1.68" date="2007-10-18">
      		<action dev="gimmi" type="update">
				Added a new construction to the InCriteria, to handle char[]
      		</action>
    	</release>

  		<release version="3.1.67" date="2007-10-13">
      		<action dev="tryggvil" type="update">
      			Updated handling of authentication to let slide be able to run on a separate server and authenticate correctly.
      			<br/>This was done for the golf application.
      		</action>
    	</release>
  
  		<release version="3.1.66" date="2007-10-12">
      		<action dev="sigtryggur" type="update">
      			Fixed EmailValidator so that it validates 'valid' emails.
      		</action>
    	</release>
    	
  		<release version="3.1.65" date="2007-09-27">
      		<action dev="laddi" type="fix">
      			Fixed getting users preferred locale so it doesn't throw a NullPointerException when there is no value in the User bean for preferred locale.
      		</action>
      		<action dev="eiki" type="update">
      			Added the option to allow access to webservices for all IP numbers if you specify "*" in the WS_VALID_IP application property
      		</action>
    	</release>
    	
  		<release version="3.1.64" date="2007-09-24">
      		<action dev="gimmi" type="fix">
      			Fixed datepicker to use with different text encodings.
      			Fixed getting users preferred locale
      		</action>
    	</release>
    	
  		<release version="3.1.63" date="2007-09-03">
      		<action dev="alexis" type="update">
				Added a processRedirectsToUserHome method in IWAuthenticator
      		</action>
    	</release>
    	
  		 <release version="3.1.62" date="2007-08-30">
      		<action dev="eiki" type="fix">
				Fixed a bug in UserBusinessBean when getting the users preferred locale.
				Fixed a bug in getting a users age by his SocialSecurityNumber.getAge...
      		</action>
    	</release>
    	
		  <release version="3.1.61" date="2007-08-14">
      		<action dev="civilis" type="update">
				LoginInfoBMPBean creation type field added
      		</action>
    	</release>
  		<release version="3.1.60" date="2007-08-07">
      		<action dev="valdas" type="update">
				Made method (to get instanceId of UIComponent) accessible through BuilderService
      		</action>
    	</release>
      	<release version="3.1.59" date="2007-07-22">
      		<action dev="laddi" type="fix">
				DatePicker: fixed something that was wrong...
      		</action>
    	</release>
      	<release version="3.1.58" date="2007-07-20">
      		<action dev="thomas" type="fix">
				StringHandler: fixed compile version with version 1.4 (replace method does not exist)
      		</action>
    	</release>
    	<release version="3.1.57" date="2007-07-20">
      		<action dev="sigtryggur" type="add">
				Added in co-operation with Gimmi gotoNextInput-logic to TextInput 
      		</action>
    	</release>
    	<release version="3.1.56" date="2007-07-18">
      		<action dev="thomas" type="add">
				StringHandler: added method for convertng wildcard expressions to regular expressions
      		</action>
    	</release>
  
  		<release version="3.1.55" date="2007-07-11">
      		<action dev="valdas" type="update">
				Backed DWR to 1.1
      		</action>
    	</release>
  		
  		<release version="3.1.54" date="2007-07-04">
			<action dev="valdas" type="update">
				Made multiple changes that was needed for Simple user application
			</action>
			<action dev="valdas" type="update">
				Added one more compare option (by personal id) in User comparator
			</action>
		</release>

    	<release version="3.1.53" date="2007-07-02">
			<action dev="laddi" type="update">
				Added possibility to forward to a special page when user has multiple roles and home pages.
			</action>
			<action dev="laddi" type="update">
				Changed DatePicker to use layers instead of tables.
			</action>
			<action dev="laddi" type="update">
				Added support for company personal IDs.
			</action>
		</release>

    	<release version="3.1.52" date="2007-06-27">
			<action dev="tryggvil" type="add">
				Added new simplified API for doing Messaging/Emailing, based around 
				com.idega.core.messaging.SimpleMessage com.idega.core.messaging.EmailMessage
			</action>
			<action dev="tryggvil" type="add">
				Created new com.idega.presentation.ui.FormItem component to make accessible 
				forms.
			</action>
		</release>

    	<release version="3.1.51" date="2007-06-16">
			<action dev="eiki" type="add">
            	Valdas and I merged DWR beans for the usersystem from HEAD. 
            	These beans enable data about users to be sent over a network with dwr.
            	Added an ordering column to Status bmp bean
			</action>
		</release>
		
  		<release version="3.1.50" date="2007-06-13">
			<action dev="thomas" type="add">
             Added land register map number attribute in RealEstate
			</action>
		</release>

		<release version="3.1.49" date="2007-06-12">
			<action dev="laddi" type="update">
				Changed Group so that it is stored on creation.
				Added count method to User to find number of users with given birth year range and Commune.
				Added find method to PostalCode to find codes by Commune.
			</action>
		</release>
		
		<release version="3.1.48" date="2007-05-30">
			<action dev="eiki" type="update">
				Removed inactive clone method from Table that was rendered unusable with JSF. "Fixed" Scrolltable to hide the extra header in the table.
				Added new method : public boolean hasUserAccess(IWUserContext iwuc); to ViewNode to support custom permission logic in ViewNodes. Also refactored the wrong spelling from hasUserAcess to hasUserAccess
				Updated base-dependencies.xml to add newer version of web2.0 bundle
			</action>
		</release>
		
		<release version="3.1.47" date="2007-05-20">
			<action dev="tryggvil" type="fix">
				Improved handing of Slide authentication, disabled Slide authentication by default for GET and POST requests.
			</action>
		</release>
        
        <release version="3.1.46" date="2007-05-11">
      	  <action dev="thomas" type="fix">
      	  + fixed bug with the application identifier that was not the same in InEventDispatcher and OutEventDispatcher but should be.
      	  (this bug was not a problem at the moment but could be in the future)
		</action>
		</release>
        	<release version="3.1.45" date="2007-05-05">
      	  <action dev="thomas" type="fix">
			SingletonRepository was started twice (there were two instances of a singleton running)
		</action>
		</release>
      	<release version="3.1.44" date="2007-05-03">
      	  <action dev="thomas" type="add">
			The cahces homeQueryCache and findQueryCache in class IDOBeanCache are now using ehcache.
			In that way those caches are now 
			connected to the event system of the 
			cluster environment that synchronizes the caches.
			(this add is crucial for cluster environment)
		</action>
      <action dev="thomas" type="fix">
			Method findPrimaryKey was calling put method of the bean cache in the wrong way 
			((this fix is crucial for cluster environment)
		</action>
		<action dev="thomas" type="fix">
			Some update and delete methods in GenericEntity fixed (notification of bean cache forgotten).
			(this fix is crucial for cluster environment)
		</action>
		<action dev="thomas" type="fix">
			Bug fixed with Derby database when setting UNIQUE constraint (is only allowed to set  when NOT NULL constraint is set)
			(see DatastoreInterface, DerbyDatastoreInterface) 
		</action>
	</release>
    
    <release version="3.1.43" date="2007-04-30">
		<action dev="thomas" type="update">
			Minor change to WriterToFile (Strings are now allowed as folder identifiers)
		</action>
		<action dev="eiki" type="fix">
			Removed the adding of the "standard" style.css file from idegaweb/style/... it has long been deprecated and causes style problems in safari when not found.
		</action>
		<action dev="thomas" type="add">
			Added package com.idega.core.event.
			Added EventClients extensions for IWCacheManager and IWMainApplicationSettings that is
			IWCacheManagerClientEvent and IWMainAppicationSettingsClientEvent.
			Changed CacheMapListener (keys are allowed to be Objects not only Strings).
			package com.idega.core.event is used by the com.idega.cluster bundle.
			Actually those changes seems to be included since version 3.1.32.
		</action>
		<action dev="tryggvil" type="update">
			Adding synchronization of first request to each page (by URI), done in IWWelcomeFilter.<br/>
			This is to make the system cache each pages up once before other requests can access each page, and
			is necessary for high volume sites such as golf.is.
		</action>
	</release>
	
  	<release version="3.1.42" date="2007-03-30">
		<action dev="palli" type="fix">
			Fixed the IWAuthenticator so that the commune redirect works again. Now the listeners are called.
		</action>
	</release>
  
  	<release version="3.1.41" date="2007-03-19">
		<action dev="eiki" type="fix">
			Changed the default creation of UUIDs to use a random generator rather than a time based method (could be safer, switch back if not).
			Did it to avoid getting the same uuid if created at the exact same time.
			Also added validation methods for Icelandic SSN's to UserBusiness, see TODO on those methods for more info
			Changed HttpClient to v. 3.0.1 and Lucene to v. 2.1.0.
			Fixed stack overflow error in Quicktime PresentationObject.
			Fixed MSSQLDatastoreInterface so it now creates UNIQUE_ID columns even if htere is data in the table.
		</action>
	</release>
  
	<release version="3.1.40" date="2007-03-20">
		<action dev="gimmi" type="update">
			added a setTextInputId method
		</action>
	</release>

	<release version="3.1.39" date="2007-03-06">
		<action dev="tryggvil" type="update">
			Updates and modifications to implement Icelandic PKI Authentication inside is.idega.block.pki module.
		</action>
		<action dev="tryggvil" type="fix">
			Fixing and correcting encoding in all java files to be Unicode UTF-8.
		</action>
	</release>
  
	<release version="3.1.38" date="2007-02-23">
		<action dev="tryggvil" type="fix">
			Better handling of requests to the slide repository when the property 'slide.authenticator.enable' is set to false.<br/>
			This was done by making the IWAuthenticator aware of the 'slide.authenticator.enable' and disable some functionality if it is set to 'false'
			for http requests that are made to slide, that is if they begin with /content/*.
		</action>
	</release>
  
	<release version="3.1.37" date="2007-02-16">
		<action dev="eiki" type="update">
			Change the UserLoginTab in com.idega.user to fix a security hole along with Login and user classes in core.
			Now only the user himself, admin or the first person or the persons group that changes the users password for the first time can change it again.
			Removed a lot of old stuff from com.idega.core.user.
		</action>
	</release>

	<release version="3.1.36" date="2007-02-14">
		<action dev="gimmi" type="fix">
			Fixed DatePicker's javascript to make html objects reappear after the calendar has been closed.
		</action>
	</release>

	<release version="3.1.35" date="2007-02-09">
		<action dev="tryggvil" type="fix">
			Corrected behaviour in CacheMap.size() and CacheMap.isEmpty().<br/>
			This corrects the behaviour that the builder page tree was expiring and not rebuilding again (NavigationList displaying empty).
		</action>
	</release>

	<release version="3.1.34" date="2007-02-08">
		<action dev="laddi" type="update">
			Changed so that ICObject values that have no corresponding class are removed.
		</action>
	</release>
	
	<release version="3.1.33" date="2007-02-06">
		<action dev="gimmi" type="update">
			minor adjustment to SmallCalendar
		</action>
		<action dev="eiki" type="fix">
			Fixed problem with IWResourceBundle not returning the default value from Localizable.strings
		</action>
	</release>
	
	<release version="3.1.32" date="2007-02-05">
		<action dev="sigtryggur" type="fix">
			General javascript fix for methods commonly used in the platform
		</action>
	</release>

	<release version="3.1.31" date="2007-02-01">
		<action dev="gediminas" type="fix">
			Fixed character substitution for non-letter chars
		</action>
	</release>
	
	<release version="3.1.30" date="2007-02-01">
		<action dev="eiki" type="fix">
			Fixed locale error in userbusinessbean
		</action>
	</release>
	
	<release version="3.1.29" date="2007-01-30">
		<action dev="eiki" type="update">
			Added a new column to ICUser (User) PREFERRED_LOCALE and get and set methods to the data bean and UserBusiness.
		</action>
	</release>
	
	<release version="3.1.28" date="2007-01-29">
		<action dev="sigtryggur" type="update">
			Added the option to set size for SelectionBox, so number of elements can be configured
		</action>
	</release>
	
	<release version="3.1.27" date="2007-01-26">
		<action dev="sigtryggur" type="update">
			Added mailto-link object
		</action>
	</release>
	
	<release version="3.1.26" date="2007-01-25">
		<action dev="laddi" type="update">
			Fixed loading layer for better support of IE6 and under.
		</action>
	</release>
  
	<release version="3.1.25" date="2007-01-22">
		<action dev="tryggvil" type="update">
			Moved security filter for Web-Services, WebServiceAuthorizationFilter, from the block com.idega.block.process.webservice to
			be standard part of com.idega.core.
		</action>
		<action dev="tryggvil" type="update">
			Updated JAAS LoginModule implementation and added a standard PersonalIdCredential object that is always initialized for
			all users that login-in and have a personalId set. This was updated because of requirements from VUF - Reykjavik.
		</action>
	</release>
  
	<release version="3.1.24" date="2007-01-05">
		<action dev="laddi" type="update">
			Changed DayOfWeekAndDate so that it doesn't display the day of week twice for locales other than Icelandic.
		</action>
		<action dev="laddi" type="update">
			Added locale as style class for all widgets.
		</action>
	</release>
    
	<release version="3.1.23" date="2006-12-13">
		<action dev="laddi" type="update">
			Fixed implementation of compareTo(IDOEntity) in GenericEntity so that it doesn't throw a ClassCastException when primary key is not a String.
		</action>
	</release>
    
	<release version="3.1.22" date="2006-11-23">
		<action dev="laddi" type="update">
			Changed print implementation in Page to accomodate for different types of bundle style sheets.
		</action>
	</release>
    
	<release version="3.1.21" date="2006-11-20">
		<action dev="palli" type="update">
			Added a reply to parameter to the send methods in SendMail.
		</action>
		<action dev="eiki" type="update">
			Changed all timed threads I found to daemon threads to ensure that they can be killed on a shutdown. 
			Classes changed: IBOTimedServiceBean, EventTimer,ConnectionRefresher and TimerManager.
		</action>
	</release>
    
	<release version="3.1.20" date="2006-11-15">
		<action dev="laddi" type="fix">
			Fixed loading layer so that it displays correctly cross-browser.
		</action>
	</release>

	<release version="3.1.19" date="2006-11-09">
		<action dev="gimmi" type="update">
			SearchResults can now be set to open links in a new window
		</action>
	</release>

	<release version="3.1.18" date="2006-11-09">
		<action dev="laddi" type="update">
			Added displaying of Loading Layer on click when using Link to submit Form.
		</action>
	</release>

   	<release version="3.1.17" date="2006-11-06">
		<action dev="gimmi" type="update">
			Small update to SearchResults, making is more flexible to being extended
		</action>
	</release>
	   	<release version="3.1.16" date="2006-11-02">
		<action dev="laddi" type="fix">
			Fixed incorrect cache handling of application bindings with keys larger than max value.
		</action>
		<action dev="laddi" type="update">
			Added possibility to include style sheets with specific media type through GlobalIncludeManager.
		</action>
	</release>
   
   	<release version="3.1.15" date="2006-10-25">
		<action dev="gimmi" type="fix">
			Added saveState and restoreState to Link.
		</action>
	</release>
   
  	<release version="3.1.14" date="2006-10-24">
		<action dev="gimmi" type="add">
			added a method for getting extra row elements for the search result.
		</action>
	</release>
  
	<release version="3.1.13" date="2006-10-19">
		<action dev="laddi" type="update">
		Fixed getting reflection properties for rebuilding the blocks.
		</action>
	</release>

	<release version="3.1.12" date="2006-10-04">
		<action dev="laddi" type="update">
			Changed so that when using Link to submit a Form it is impossible to double click (only works when using setToFormSubmit method).
		</action>
	</release>

	<release version="3.1.11" date="2006-09-20">
		<action dev="gimmi" type="fix">
			Added an addTrigger to ResultOutput
		</action>
	</release>

	<release version="3.1.10" date="2006-09-07">
		<action dev="gimmi" type="fix">
			Some major fixes in InterfaceObject regarding setting object values onclick... keep your eyes open.
		</action>
	</release>

	<release version="3.1.9" date="2006-09-07">
		<action dev="gimmi" type="fix">
			Fixed for and InterfaceObject to allow for 2 forms in the same page with different form input checks.
		</action>
	</release>

	<release version="3.1.8" date="2006-08-01">
		<action dev="gimmi" type="add">
			New class, PageInfoWriter prints page info into the out log
		</action>
	</release>

	<release version="3.1.7" date="2006-08-01">
		<action dev="gimmi" type="add">
			Added some getPublicWindow methods to Window and GenericButton
		</action>
	</release>

	<release version="3.1.6" date="2006-07-27">
		<action dev="laddi" type="fix">
			Changed pop up window in Help to public window.
		</action>
	</release>
  
	<release version="3.1.5" date="2006-07-20">
		<action dev="gimmi" type="fix">
			Reimplemented exporting pages
		</action>
	</release>
  
  	<release version="3.1.4" date="2006-07-07">
     <action dev="eiki" type="add">
      Added new class, SearchResultComparator, a comparator that can sort by any property in SearchResult and its attribute map properties (String,Number and Date).
     </action>
      <action dev="eiki" type="fix">
      	SearchResults , bugfix uses toString now instead of requiring searchresult attributes to be strings
		</action>
    </release>
    
   <release version="3.1.3" date="2006-07-06">
      <action dev="eiki" type="fix">
      	Fixes and addons for SearchResults so you can show or hide extra search result parameters.
      </action>
    </release>
    
   <release version="3.1.2" date="2006-07-03">
      <action dev="tryggvil" type="fix">
        	Fixed and addons for SmallCalendar (HTML, setting class and dateParameterName)
      </action>
    </release>
  
  
   <release version="3.1.1" date="2006-06-30">
      <action dev="tryggvil" type="fix">
      	Fix for HSQLDB database where front page with ib_page_id=0 was causing a permission bug (not displayed).
      </action>
      <action dev="tryggvil" type="fix">
     	Bugfix for NullpointerException caused in ICObjectBMPBean where objectType or bundle was null. (Travel)
      </action>
      <action dev="eiki" type="update">
      	Refactored and improved SearchResult to be more extendable. See new module WhatIsNew in the com.idega.content bundle for an example.
      </action>
    </release>
      
    <release version="3.1.0" date="2006-06-16">
      <action dev="tryggvil" type="update">
      	 New Cache sub-system. IWCacheManager2, which builds on the Open source ehCache project.
      </action>
      <action dev="tryggvil" type="update">
      	Caching support for rendered content general general JSF UIComponents (Content Caching). Builds on the IWCacheManager2.
      </action>
      <action dev="tryggvil" type="update">
     	 IDO Persistence framework updates. Updates to facilitate usage of caching of entity beans
     	 and better control of pre-loading large collection of beans from finder methods.
      </action>
      <action dev="tryggvil" type="update">
      	Performance optimizations and caching implemented for beans ICObject,ICObjectInstance,ICLocale
      </action>
      <action dev="tryggvil" type="update">
      	Added experimental support for the H2 (http://www.h2database.com/) database engine.
      </action>
      <action dev="tryggvil" type="update">
      	New ComponentRegstry object which manages all available components to the system. Addition of
      	a reader for faces-config.xml documents embedded into the jar files of installed modules to read all
      	JSF components registered into these descriptors into the ComponentRegistry.
      </action>
      <action dev="tryggvil" type="update">
      	Misc. updates to unify look-and-feel of UI components (IWAdminWindow) and adjusting to newer ePlatform look.
      </action>
      <action dev="tryggvil" type="update">
      	Better Unit test support. Base classes to develop JUnit tests for idegaWeb applications.
      	Simple Application unit test now included in the com.idega.core module which is integrated 
      	into the maven build lifecycle.
      </action>
      <action dev="tryggvil" type="update">
      	Adding inclusion of LogDriver standard with the system.
      </action>
      <action dev="tryggvil" type="update">
      	Locale variants now supported, which can be used to implement customer specific localizations.
      </action>
      <action dev="tryggvil" type="update">
      	Update to the most recent myfaces 1.1.3 release.
      </action>
      <action dev="tryggvil" type="fix">
      	Misc. other small bugfixes.
      </action>
    </release>
  
    <release version="3.0.6" date="2005-09-15">
      <action dev="thomas" type="update">
      	This version is used for the ePlatform 3.0.
      </action>              
    </release>
    
    <release version="3.0.5" date="2005-05-24">
      <action dev="tryggvil" type="update">
      	This version is used for the nacka 24 app.
      </action>              
    </release>
    
    <release version="3.0.4" date="2005-04-06">
      <action dev="tryggvil" type="update">
      	This version is the very first one with a correct iwbar.
        Declaration of version for use in new systems based on JSF.
      </action>              
    </release>
    
    <release version="3.0.0" date="2005-03-10">
      <action dev="tryggvil" type="update">
        Declaration of version for use in new systems based on JSF.
      </action>              
    </release>

    <release version="2.0.0" date="2005-01-13">
      <action dev="tryggvil" type="update">
        Declaration of version for use in old style systems before a 3.0 release is declared.
      </action>              
    </release>

    <release version="1.9" date="2004-09-07">
      <action dev="tryggvil" type="update">
        Declaring a 1.9 version before much of the maven refactoring is done.
      </action>
      <!--     
      <action dev="tryggvil" type="fix" issue="JIRA-XXX">
        Corrected bug blah blah.
      </action>              
      <action dev="vmassol" type="remove" due-to="John Doe" due-to-email="john@doe.com">
        Removed blah blah.
      </action>
      -->
    </release>
  </body>
</document>
